<!DOCTYPE html>
<html>
<head>
  {% include head.html %}
  {% include open_graph.html %}
  <meta property="og:type" content="article">
  {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}">
  {% endfor %}
</head>
<body>
  {% include header.html %}
  <main>
    <div class="container">
      <div class="row">
        <div class="ten offset-by-one columns content post">
          <div class="card">
            {% if page.category %}
              <h5 class="post-category">{{ page.category }}</h5>
              <hr class="dashed">
            {% endif %}
            <h3 class="post-title">{{ page.title }}</h3>
            <ul class="post-meta">
              <li>
                <i class="fa fa-calendar"></i> {{ page.date | date: "%b %-d, %Y" }}
              </li>
              {% if page.author %}
                <li>
                  <i class="fa fa-user"></i>
                  <a href="{{ "/about/" | prepend: site.baseurl }}">{{ page.author }}</a>
                </li>
              {% endif %}
              <li>
                <i class="fa fa-comments"></i>
                <a href="#disqus_thread" data-disqus-identifier="{{ page.id }}">Comments</a>
              </li>
              {% if page.meta %}
                <li>{{ page.meta }}</li>
              {% endif %}
            </ul>
            {% if page.featured_image %}
              <div class="post-featured-image">
                <img src="{{ page.featured_image | prepend: site.baseurl }}" alt="{{ page.title }}" class="featured-image">
                {% if page.featured_image_source %}
                  <small>(Picture: <a href="{{ page.featured_image_source }}" target="_blank">{{ page.featured_image_source }}</a>)</small>
                {% endif %}
              </div>
            {% endif %}
            <article>
              {{ content }}
            </article>
            <div class="row">
              <div class="six columns post-tags">
                {% for tag in page.tags %}
                  <span class="tag">{{ tag }}</span>
                {% endfor %}
              </div>
              <div class="six columns post-share">
                {% if jekyll.environment == "production" %}
                  <div id="fb-root"></div>
                  <script>(function(d, s, id) {
                    var js, fjs = d.getElementsByTagName(s)[0];
                    if (d.getElementById(id)) return;
                    js = d.createElement(s); js.id = id;
                    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.7&appId=1645747765697865";
                    fjs.parentNode.insertBefore(js, fjs);
                  }(document, 'script', 'facebook-jssdk'));</script>
                  <script type="text/javascript" src="//vk.com/js/api/openapi.js?130"></script>
                  <script type="text/javascript">VK.init({apiId: 5651718, onlyWidgets: true});</script>

                  <div class="fb-like" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="false"></div>
                  <div id="vk_like" style="display: inline-block; vertical-align: bottom;"></div>
                  <script type="text/javascript">VK.Widgets.Like("vk_like", {type: "mini"});</script>
                {% endif %}
              </div>
            </div>
            <hr class="dashed">
            <div class="row">
              <div class="six columns post-tags" style="padding-top: 0">
                <h4>Share this post</h4>
              </div>
              <div class="six columns post-share">
                {% include social_share.html url=page.url title=page.title excerpt=page.excerpt %}
              </div>
            </div>
            {% if jekyll.environment == "production" %}
              <div id="comments">
                <div id="disqus_thread"></div>
                <script>
                  var disqus_config = function () {
                    this.page.url = '{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}';
                    this.page.identifier = '{{ page.id }}';
                  };
                  (function() {
                  var d = document, s = d.createElement('script');
                  s.src = '//simpleisbetterthancomplex.disqus.com/embed.js';
                  s.setAttribute('data-timestamp', +new Date());
                  (d.head || d.body).appendChild(s);
                  })();
                </script>
                <script id="dsq-count-scr" src="//simpleisbetterthancomplex.disqus.com/count.js" async></script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
              </div>
            {% endif %}
          </div>
          <div class="card subscribe">
            <form action="//simpleisbetterthancomplex.us12.list-manage.com/subscribe/post?u=98efdfc6a91e10018aaa182b0&amp;id=a31c2b72f8" method="post">
              <h4>
                <span class="fa fa-send" style="margin-right: 5px"></span> Subscribe to our Mailing List
              </h4>
              <h5>Receive exclusive Django tips every week!</h5>
              <div class="row">
                <div class="eight columns">
                  <input class="u-full-width" placeholder="Your email address" type="email" name="EMAIL">
                </div>
                <div class="four columns">
                  <button type="submit" class="u-full-width">Subscribe</button>
                </div>
              </div>
            </form>
          </div>
          <div class="card popular-posts">
            <h4>Popular posts</h4>
            <div class="row">
              {% for popular_post in site.data.popular_posts %}
                <div class="four columns">
                  <a href="{{ popular_post.url }}">
                    <img src="{{ popular_post.image }}" alt="{{ popular_post.title }}" title="{{ popular_post.title }}">
                    {{ popular_post.title }}
                  </a>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  {% include footer.html %}
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http://simpleisbetterthancomplex.com"
    },
    "headline": "{{ page.title }}",
    "image": {
      "@type": "ImageObject",
      "url": "{{ page.featured_image | prepend: site.url }}",
      "height": 370,
      "width": 960
    },
    "datePublished": "{{ page.date | date_to_xmlschema }}",
    "dateModified": {% if page.date_modified %}"{{ page.date_modified | date_to_xmlschema }}"{% else %}"{{ page.date | date_to_xmlschema }}"{% endif %},
    "author": {
      "@type": "Person",
      "name": "{{ page.author }}"
    },
     "publisher": {
      "@type": "Organization",
      "name": "{{ site.title }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ site.url }}/img/gplus_logo.png",
        "height": 60,
        "width": 600
      }
    },
    "description": "{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 200 }}{% else %}{{ site.description }}{% endif %}"
  }
  </script>
</body>
</html>
