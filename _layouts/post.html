<!DOCTYPE html>
<html>
<head>
  {% include head.html %}
  {% include open_graph.html %}
  <meta property="og:type" content="article">
  {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}">
  {% endfor %}
</head>
<body>
  {% include header.html %}
  <main>
    <div class="container">
      <div class="row">
        <div class="ten offset-by-one columns content post">
          <div class="card">
            {% if page.category %}
              <h5 class="post-category">{{ page.category }}</h5>
              <hr class="dashed">
            {% endif %}
            <h3 class="post-title">{{ page.title }}</h3>
            <ul class="post-meta">
              <li>
                <i class="fa fa-calendar"></i> {{ page.date | date: "%b %-d, %Y" }}
              </li>
              {% if page.author %}
                <li>
                  <a href="{{ "/about/" | prepend: site.baseurl }}">
                    <i class="fa fa-user"></i> {{ page.author }}
                  </a>
                </li>
              {% endif %}
              <li>
                <a href="#disqus_thread" data-disqus-identifier="{{ page.id }}">
                  <i class="fa fa-comments"></i> Comments
                </a>
              </li>
              {% if page.meta %}
                <li>{{ page.meta }}</li>
              {% endif %}
            </ul>
            <article>
              {{ content }}
            </article>
            <hr class="dashed">
            <div class="row">
              <div class="six columns post-tags">
                {% for tag in page.tags %}<span class="tag">{{ tag }}</span>{% endfor %}
              </div>
              <div class="six columns post-share">
                {% include social_share.html url=page.url title=page.title excerpt=page.excerpt %}
              </div>
            </div>
            {% if jekyll.environment == "production" %}
              <div id="disqus_thread"></div>
              <script>
                var disqus_config = function () {
                  this.page.url = '{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}';
                  this.page.identifier = '{{ page.id }}';
                };
                (function() {
                var d = document, s = d.createElement('script');
                s.src = '//simpleisbetterthancomplex.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
              </script>
              <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            {% endif %}
          </div>
          <div class="card">
            <div class="row">
            <h4>Popular posts</h4>
            {% include popular_posts.html %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  {% include footer.html %}
</body>
</html>
